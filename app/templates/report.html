{% extends 'base.html' %}
{% block content %}
<style>
    .wrapper {
        display: flex;
    }

    .content {
        margin-right: 10px; /* Adjust spacing between content and content 2 */
    }

    .content2 {
        margin-left: 10px; /* Adjust spacing between content 2 and content */
        margin-top: 120px;
    }

    .defect-images {
        display: flex;
        align-items: center;
        justify-content: space-around;
    }

    .defect-image {
        width: 100px; /* Adjust image width as needed */
        height: auto; /* Maintain aspect ratio */
        cursor: pointer; /* Add cursor pointer */
    }

    .table-fixed {
        width: 100%; /* Set table width to 100% */
    }

    .table-fixed td,
    .table-fixed th {
        width: 25%; /* Set each cell width to 25% */
    }
</style>

<div class="wrapper">
    <!-- Content 1 -->
    <div class="content">
        <div class="container-supervision">
            <div class="col-md">
                <div class="col-md">
                    <h4>Roll ID</h4>
                    <p>{{ fabric_id }}</p>
                </div>
                <div class="col-md">
                    <h4>Total Defects</h4>
                    <p>{{ total_defects }}</p>
                </div>
                <div class="col-md">
                    <h4>Supervised Date</h4>
                    <p>{{ date_added }}</p>
                </div>
                {% if defect_types %}
                <div class="col-md">
                    <h4>Defect Type</h4>
                    {% for defect_type, count in defect_types.items() %}
                    <p>{{ defect_type }} - {{ count }}</p>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Content 2 -->
    <div class="content2">
        <div class="container-fabrics">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-fixed">
                    <thead>
                        <tr>
                            <th scope="col">Defect Type</th>
                            <th scope="col">Detected Defect</th>
                            <th scope="col">Defect Area</th>
                            <th scope="col">Border Line</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for defect_type, images in defect_images.items() %}
                        {% for original_image, mask_image, boundary_image in images %}
                        <tr>
                            <td>{{ defect_type }}</td>
                            <td><a href="{{ url_for('static', filename='defects/' + original_image) }}" data-fancybox="images"><img src="{{ url_for('static', filename='defects/' + original_image) }}" class="defect-image" alt="Original"></a></td>
                            <td><a href="{{ url_for('static', filename='defects/' + mask_image) }}" data-fancybox="images"><img src="{{ url_for('static', filename='defects/' + mask_image) }}" class="defect-image" alt="Mask"></a></td>
                            <td><a href="{{ url_for('static', filename='defects/' + boundary_image) }}" data-fancybox="images"><img src="{{ url_for('static', filename='defects/' + boundary_image) }}" class="defect-image" alt="Boundary"></a></td>
                        </tr>
                        {% endfor %}
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

{% endblock %}
